<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8>
	<style>
		body { margin: 0; }
		canvas { width: 100%; height: 100% }
	</style>
</head>
<body>
	<script src="https://sim.e-neutrons.org/static/threejs/three.min.js"></script>
	<script src="https://sim.e-neutrons.org/static/threejs/OrbitControls.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
	<script src="mcdisplay.js"></script>
	<script>
		var main = new Main();
		main.init(new THREE.Vector3(-26.2633008742, 26.2833008742, 26.2833008742), new THREE.Vector3());


		var instr;
		$.getJSON('jsonized.json', function(response){
			json_obj = response;
			})
			.success(function() {
				var loader = new TraceLoader(json_obj, main);
				loader.loadAll();

			    // renderloop
			    function render() {
			    	requestAnimationFrame(render);
			    	main.renderer.render(main.scene, main.camera);

			    	main.showNextRay();
			    }
				render();
			})
			.error(function() { consol.log("json load error"); })
			.complete(function() { console.log("json load complete");
		});
    </script>
</body>
</html>
